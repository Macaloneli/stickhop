[gd_scene load_steps=11 format=3 uid="uid://f0l5utwddd63"]

[ext_resource type="PackedScene" uid="uid://wmry7i1a3h60" path="res://core/src/entities/living/humanoid.tscn" id="1_km3t1"]
[ext_resource type="Script" uid="uid://djinmo6gkeool" path="res://core/src/components/player_input_component.gd" id="2_2dayb"]

[sub_resource type="SkeletonModification2DTwoBoneIK" id="SkeletonModification2DTwoBoneIK_pvjtl"]
target_nodepath = NodePath("IKContainer/LegIKTargetLeft")
joint_one_bone_idx = 7
joint_one_bone2d_node = NodePath("Hips/LeftUpperLeg")
joint_two_bone_idx = 8
joint_two_bone2d_node = NodePath("Hips/LeftUpperLeg/LeftLowerLeg")

[sub_resource type="SkeletonModification2DTwoBoneIK" id="SkeletonModification2DTwoBoneIK_653c0"]
target_nodepath = NodePath("IKContainer/LegIKTargetRight")
joint_one_bone_idx = 9
joint_one_bone2d_node = NodePath("Hips/RightUpperLeg")
joint_two_bone_idx = 10
joint_two_bone2d_node = NodePath("Hips/RightUpperLeg/RightLowerLeg")

[sub_resource type="SkeletonModification2DTwoBoneIK" id="SkeletonModification2DTwoBoneIK_g0jt7"]
target_nodepath = NodePath("ArmIKTargetLeft")
joint_one_bone_idx = 2
joint_one_bone2d_node = NodePath("Hips/Torso/LeftUpperArm")
joint_two_bone_idx = 3
joint_two_bone2d_node = NodePath("Hips/Torso/LeftUpperArm/LeftLowerArm")

[sub_resource type="SkeletonModification2DTwoBoneIK" id="SkeletonModification2DTwoBoneIK_r1irj"]
target_nodepath = NodePath("ArmIKTargetRight")
joint_one_bone_idx = 4
joint_one_bone2d_node = NodePath("Hips/Torso/RightUpperArm")
joint_two_bone_idx = 5
joint_two_bone2d_node = NodePath("Hips/Torso/RightUpperArm/RightLowerArm")

[sub_resource type="SkeletonModificationStack2D" id="SkeletonModificationStack2D_wcwmn"]
resource_local_to_scene = true
modification_count = 4
modifications/0 = SubResource("SkeletonModification2DTwoBoneIK_pvjtl")
modifications/1 = SubResource("SkeletonModification2DTwoBoneIK_653c0")
modifications/2 = SubResource("SkeletonModification2DTwoBoneIK_g0jt7")
modifications/3 = SubResource("SkeletonModification2DTwoBoneIK_r1irj")

[sub_resource type="Gradient" id="Gradient_hmjwd"]
colors = PackedColorArray(0.15057197, 0.48890823, 1, 1, 0.14427546, 0.34775028, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_06drc"]
frequency = 0.0681

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_pvjtl"]
width = 7
height = 15
noise = SubResource("FastNoiseLite_06drc")
color_ramp = SubResource("Gradient_hmjwd")

[node name="Player" instance=ExtResource("1_km3t1")]
collision_layer = 2
collision_mask = 129

[node name="AnimRig" parent="." index="3"]
modification_stack = SubResource("SkeletonModificationStack2D_wcwmn")

[node name="LeftUpperLeg" parent="AnimRig/Hips" index="2"]
rotation = 0.033320904
scale = Vector2(0.99999976, 0.99999976)

[node name="LeftLowerLeg" parent="AnimRig/Hips/LeftUpperLeg" index="1"]
position = Vector2(-7.1525574e-07, 15.000002)
scale = Vector2(0.9999999, 0.9999999)

[node name="RightLowerLeg" parent="AnimRig/Hips/RightUpperLeg" index="1"]
position = Vector2(-1.1920929e-06, 14.999998)

[node name="PlayerInputComponent" type="Node" parent="." index="4" node_paths=PackedStringArray("humanoid", "hips")]
script = ExtResource("2_2dayb")
humanoid = NodePath("..")
hips = NodePath("../PhysicsRig/Hips")
metadata/_custom_type_script = "uid://djinmo6gkeool"

[node name="Hips" parent="PhysicsRig" index="0"]
collision_layer = 4
collision_mask = 65
angular_damping = 3.0

[node name="MeshInstance2D" parent="PhysicsRig/Hips" index="0"]
texture = SubResource("NoiseTexture2D_pvjtl")

[node name="Torso" parent="PhysicsRig" index="1"]
collision_layer = 4
collision_mask = 65

[node name="MeshInstance2D2" parent="PhysicsRig/Torso" index="0"]
texture = SubResource("NoiseTexture2D_pvjtl")

[node name="LeftUpperLeg" parent="PhysicsRig" index="2"]
collision_layer = 4
collision_mask = 65

[node name="MeshInstance2D3" parent="PhysicsRig/LeftUpperLeg" index="0"]
texture = SubResource("NoiseTexture2D_pvjtl")

[node name="LeftLowerLeg" parent="PhysicsRig" index="3"]
collision_layer = 4
collision_mask = 65

[node name="MeshInstance2D5" parent="PhysicsRig/LeftLowerLeg" index="0"]
texture = SubResource("NoiseTexture2D_pvjtl")

[node name="RightUpperLeg" parent="PhysicsRig" index="4"]
collision_layer = 4
collision_mask = 65

[node name="MeshInstance2D4" parent="PhysicsRig/RightUpperLeg" index="0"]
texture = SubResource("NoiseTexture2D_pvjtl")

[node name="RightLowerLeg" parent="PhysicsRig" index="5"]
collision_layer = 4
collision_mask = 65

[node name="MeshInstance2D6" parent="PhysicsRig/RightLowerLeg" index="0"]
texture = SubResource("NoiseTexture2D_pvjtl")

[node name="Head" parent="PhysicsRig" index="6"]
collision_layer = 4
collision_mask = 65

[node name="MeshInstance2D" parent="PhysicsRig/Head" index="0"]
texture = SubResource("NoiseTexture2D_pvjtl")

[node name="LeftUpperArm" parent="PhysicsRig" index="7"]
collision_layer = 4
collision_mask = 65

[node name="MeshInstance2D" parent="PhysicsRig/LeftUpperArm" index="0"]
texture = SubResource("NoiseTexture2D_pvjtl")

[node name="LeftLowerArm" parent="PhysicsRig" index="8"]
collision_layer = 4
collision_mask = 65

[node name="MeshInstance2D2" parent="PhysicsRig/LeftLowerArm" index="0"]
texture = SubResource("NoiseTexture2D_pvjtl")

[node name="GripDetectionLeft" parent="PhysicsRig/LeftLowerArm" index="3"]
collision_layer = 4

[node name="RightUpperArm" parent="PhysicsRig" index="9"]
collision_layer = 4
collision_mask = 65

[node name="MeshInstance2D" parent="PhysicsRig/RightUpperArm" index="0"]
texture = SubResource("NoiseTexture2D_pvjtl")

[node name="RightLowerArm" parent="PhysicsRig" index="10"]
collision_layer = 4
collision_mask = 65

[node name="MeshInstance2D2" parent="PhysicsRig/RightLowerArm" index="0"]
texture = SubResource("NoiseTexture2D_pvjtl")

[node name="GripDetectionRight" parent="PhysicsRig/RightLowerArm" index="3"]
collision_layer = 4
